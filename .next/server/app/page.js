(()=>{var a={};a.id=593,a.ids=[593],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6258:(a,b,c)=>{Promise.resolve().then(c.bind(c,6298))},6298:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>s});var d=c(1124),e=c(4888),f=c(8208),g=c(7629),h=c(8301),i=c(4991);let j=()=>{let[a,b]=(0,h.useState)(""),[c,e]=(0,h.useState)(!1),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)(!1),n=(0,h.useRef)(null);(0,h.useEffect)(()=>{if(!l)return;let a=setTimeout(()=>m(!1),2500);return()=>clearTimeout(a)},[l]);let o=async c=>{if(c.preventDefault(),!a){k("Please enter your email address"),m(!0);return}e(!0),setTimeout(()=>{k("Thank you for subscribing!"),m(!0),b(""),e(!1)},1e3)};return(0,d.jsx)("section",{className:"pt-24 pb-16 md:py-32",children:(0,d.jsx)("div",{className:"container px-4",children:(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"space-y-4 text-lg text-muted-foreground",children:[(0,d.jsx)("p",{className:"font-medium text-foreground",children:"Is science healthy? How do rigor and reproducibility vary across fields, journals, and institutions?"}),(0,d.jsx)("p",{children:"At The Metascience Observatory, we are using AI to analyze scientific papers at scale to help answer these questions."})]}),(0,d.jsxs)("div",{ref:n,className:"relative max-w-md",children:[l&&j?(0,d.jsx)("div",{className:"absolute -top-12 left-0 right-0 z-20 flex justify-center",children:(0,d.jsx)("div",{className:"rounded-md border bg-background px-4 py-2 text-sm text-foreground shadow-lg",children:j})}):null,(0,d.jsxs)("form",{onSubmit:o,children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-3",children:"Subscribe to our newsletter: "}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,d.jsx)(g.p,{type:"email",placeholder:"you@example.com",value:a,onChange:a=>b(a.target.value),className:"flex-1 h-12 text-base",disabled:c}),(0,d.jsx)(f.$,{type:"submit",variant:"hero",size:"lg",disabled:c,className:"h-12 px-8",children:c?"Submitting...":"Subscribe"})]})]})]})]}),(0,d.jsx)("div",{className:"flex justify-center md:justify-end",children:(0,d.jsx)(i.default,{src:"/assets/herschel-observatory.jpeg",alt:"Historical observatory with telescope",width:400,height:500,className:" max-w-lg rounded-lg mix-blend-multiply dark:mix-blend-screen dark:invert"})})]})})})};var k=c(5119),l=c(3991),m=c.n(l);let n=()=>(0,d.jsx)("section",{id:"about",className:"py-20 scroll-mt-1 bg-gradient-to-b from-background to-muted/30",children:(0,d.jsx)("div",{className:"container px-4",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,d.jsx)("div",{className:"text-center space-y-4",children:(0,d.jsx)("h2",{className:"font-clarendon text-3xl md:text-4xl font-bold",children:"About"})}),(0,d.jsxs)("div",{className:"grid md:grid-cols-5 gap-10 items-center",children:[(0,d.jsx)("div",{className:"flex justify-center md:justify-start md:col-span-2",children:(0,d.jsx)(i.default,{src:"/assets/woodcut-looking-at-world.jpeg",alt:"Woodcut illustration of a person observing the world",width:400,height:500,className:"max-w-lg rounded-lg shadow-lg object-cover h-auto",priority:!0})}),(0,d.jsx)(k.Zp,{className:"p-[30px] md:p-[38px] shadow-lg hover:shadow-xl transition-shadow md:col-span-3",children:(0,d.jsxs)("div",{className:"space-y-6 text-foreground/90 leading-relaxed",children:[(0,d.jsxs)("p",{children:["The first major project of The Metascience Observatory is to build a ",(0,d.jsx)(m(),{href:"/replications-database",className:"underline",children:"public database of experimental replications across all of science"}),". There have already been several great studies assessing reproducibility, most famously in ",(0,d.jsx)(m(),{href:"https://www.science.org/doi/10.1126/science.aac4716",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"psychology"})," and ",(0,d.jsx)(m(),{href:"https://www.cos.io/rpcb",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"cancer biology"}),". These were large, concerted efforts requiring large teams and lots of funding."]}),(0,d.jsx)("p",{children:'However, there are also one-off "garden variety" replication attempts. They are rare (perhaps 1% of papers), but there are thousands out there. Using both manual curation and AI/LLMs, we are creating a database of replications and compiling statistics on how reproducibility varies across fields, including fields like materials science and engineering, where insights into reproducibility are scarce.'}),(0,d.jsx)("p",{children:'A database of replications will enable new avenues of metascience research looking at "correlates of reproducibility". Additionally, do p-curve analysis, z-curve analysis, and funnel plots at a larger scale than was possible before.'}),(0,d.jsxs)("p",{children:["Longer term, we hope to create a reproducibility ranking for journals. Reproducibility rankings for journals could improve science by shifting focus away from impact factor (citation counts) towards the actual quality and rigor of scientific work. Previous work ",(0,d.jsx)(m(),{href:"https://www.pnas.org/doi/10.1073/pnas.1909046117",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"shows that"})," citation counts are not correlated with reproducibility and that citation count is positively correlated with the chance that a paper will be retracted."]})]})})]})]})})}),o=(0,c(3339).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),p=()=>(0,d.jsx)("section",{id:"team",className:"py-20 scroll-mt-24",children:(0,d.jsx)("div",{className:"container px-4",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto space-y-10",children:[(0,d.jsx)("div",{className:"text-center space-y-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,d.jsx)(o,{className:"w-10 h-10 text-primary"}),(0,d.jsx)("h2",{className:"font-clarendon text-3xl md:text-4xl font-bold",children:"Team"})]})}),(0,d.jsx)(k.Zp,{className:"p-8 md:p-10 shadow-lg",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,d.jsx)(i.default,{src:"/assets/dan_elton_podium_cropped.png",alt:"Dan Elton, Ph.D.",width:192,height:192,className:"w-48 h-48 object-cover rounded-lg"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:[(0,d.jsx)("span",{children:"Dan Elton, Ph.D."}),(0,d.jsx)("span",{className:"ml-2 font-normal text-foreground/80",children:"- Founder and Director"})]}),(0,d.jsxs)("p",{className:"text-foreground/90 leading-relaxed",children:["Dan spent 15 years in academic research before founding The Metascience Observatory. He has co-authored about 50 peer-reviewed papers in physics, materials science, and AI for healthcare. On ",(0,d.jsx)("a",{href:"https://moreisdifferent.blog/",children:"his Substack"})," he writes about AI, progress, metascience, and other topics."]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,d.jsx)(i.default,{src:"/assets/greg_fitzgerald.png",alt:"Greg Fitzgerald",width:192,height:192,className:"w-48 h-48 object-cover rounded-lg"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:[(0,d.jsx)("span",{children:"Greg Fitzgerald"}),(0,d.jsx)("span",{className:"ml-2 font-normal text-foreground/80",children:"- Prompt Engineer and meta-analysis expert"})]}),(0,d.jsx)("p",{className:"text-foreground/90 leading-relaxed",children:"Greg Fitzgerald is a neuroscience Ph.D. student at the State Univerity of New York, Albany."})]})]})]})})]})})});var q=c(6385),r=c(4071);function s(){return(0,d.jsxs)("div",{className:"min-h-screen",children:[(0,d.jsx)(e.F,{}),(0,d.jsx)(j,{}),(0,d.jsx)(n,{}),(0,d.jsx)(p,{}),(0,d.jsx)(q.q,{}),(0,d.jsx)(r.w,{})]})}},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},7629:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(1124),e=c(8301),f=c(5514);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));g.displayName="Input"},7742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/dan/Dropbox/AAA_METASCIENCE_OBSERVATORY/metascience_observatory_website/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/dan/Dropbox/AAA_METASCIENCE_OBSERVATORY/metascience_observatory_website/app/page.tsx","default")},7802:(a,b,c)=>{Promise.resolve().then(c.bind(c,7742))},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9734:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(12),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7742)),"/home/dan/Dropbox/AAA_METASCIENCE_OBSERVATORY/metascience_observatory_website/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,6953)),"/home/dan/Dropbox/AAA_METASCIENCE_OBSERVATORY/metascience_observatory_website/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/home/dan/Dropbox/AAA_METASCIENCE_OBSERVATORY/metascience_observatory_website/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(9902).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},9902:a=>{"use strict";a.exports=require("path")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[873,428,620,961,876],()=>b(b.s=9734));module.exports=c})();